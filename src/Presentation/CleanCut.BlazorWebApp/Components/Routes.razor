@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Authorization

<CascadingAuthenticationState>
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
       <AuthorizeRouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)">
        <NotAuthorized Context="authState">
         @if (authState.User.Identity?.IsAuthenticated != true)
           {
      <RedirectToLogin />
                 }
          else
      {
     <p role="alert">You are not authorized to access this resource.</p>
    }
  </NotAuthorized>
         <Authorizing>
    <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
        <div class="text-center">
      <div class="spinner-border spinner-border-lg text-primary" role="status">
               <span class="visually-hidden">Loading...</span>
                </div>
     <p class="mt-3 text-muted">Authenticating...</p>
    </div>
                    </div>
       </Authorizing>
            </AuthorizeRouteView>
            <FocusOnNavigate RouteData="routeData" Selector="h1" />
        </Found>
        <NotFound>
         <PageTitle>Not found</PageTitle>
          <LayoutView Layout="typeof(Layout.MainLayout)">
       <div class="container text-center py-5">
                <h1 class="display-4 text-muted">
            <i class="fas fa-search me-3"></i>
      404 - Page Not Found
      </h1>
            <p class="lead">The page you're looking for doesn't exist.</p>
<a href="/" class="btn btn-primary">
              <i class="fas fa-home me-2"></i>Back to Home
             </a>
           </div>
          </LayoutView>
        </NotFound>
    </Router>
</CascadingAuthenticationState>

 
