@using Microsoft.AspNetCore.Components.Authorization
<CascadingAuthenticationState>
 <Router AppAssembly="typeof(Program).Assembly">
    <Found Context="routeData">
  <AuthorizeRouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)">
     <NotAuthorized Context="authContext">
     @if (authContext.User.Identity?.IsAuthenticated != true)
       {
     <div class="auth-loading">
       <div class="text-center">
         <div class="spinner-border text-primary mb-3" role="status">
<span class="visually-hidden">Loading...</span>
      </div>
     <h4>Redirecting to login...</h4>
         <p class="text-muted">Please wait while we redirect you to the login page.</p>
      </div>
 </div>
         <script>
        window.location.href = '/Account/Login';
      </script>
      }
        else
        {
     <div class="container">
     <div class="alert alert-warning" role="alert">
           <h4 class="alert-heading">Access Denied</h4>
        <p>You are not authorized to view this page.</p>
     <hr>
            <p class="mb-0">
    <a href="/" class="btn btn-primary">Return to Home</a>
     </p>
       </div>
      </div>
  }
            </NotAuthorized>
  <Authorizing>
         <div class="auth-loading">
    <div class="text-center">
     <div class="spinner-border text-primary mb-3" role="status">
        <span class="visually-hidden">Loading...</span>
         </div>
          <h4>Checking authentication...</h4>
       <p class="text-muted">Please wait while we verify your credentials.</p>
    </div>
         </div>
          </Authorizing>
    </AuthorizeRouteView>
<FocusOnNavigate RouteData="routeData" Selector="h1" />
        </Found>
        <NotFound>
     <PageTitle>Not found</PageTitle>
   <LayoutView Layout="typeof(Layout.MainLayout)">
     <div class="container text-center py-5">
       <h1 class="display-4 text-muted">
           <i class="fas fa-search me-3"></i>
          404 - Page Not Found
  </h1>
  <p class="lead">The page you're looking for doesn't exist.</p>
      <a href="/" class="btn btn-primary">
   <i class="fas fa-home me-2"></i>Back to Home
       </a>
    </div>
      </LayoutView>
    </NotFound>
    </Router>
</CascadingAuthenticationState>
